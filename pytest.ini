#pytest 统一配置

[pytest]
pythonpath = .

minversion = 9.0

# 默认加上的命令行参数
addopts = -q --html=reports/report.html --self-contained-html

# 测试用例所在目录
testpaths =
    tests

# 测试文件命名规则
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# ✅ 这里要写 markers（不是 makers）
markers =
    smoke: quick checks for main flows(smoke 冒烟用例（基础检查）)
    regression: full regression suite
    api: api-level tests(API 接口测试用例)
    config: 配置 / 环境相关用例(读取config.yml等)
    external: 依赖外部网络的用例（访问第三方服务等）
    data_driven: 数据驱动用例（从 YAML/JSON 读取测试数据  参数化）
    assertions: 高级断言用例（字典子集、统一断言等）
    service: Service 业务封装层相关用例
    mock: 纯离线 Mock 用例(不发真实请求)
    integration: 联调用例（真实打外部接口，可能受网络影响）

